---
import Layout from '../layouts/Layout.astro';
import FitnessPlan from '../components/FitnessPlan.tsx';
import { Image } from 'astro:assets';
import backgroundImg from '../assets/background.jpg';
import { SignInButton, SignedIn, SignedOut } from '@clerk/astro/components';
---

<Layout title="Welcome to Fitness Planner">
  <div class="flex items-center justify-center min-h-screen">
    <Image
      src={backgroundImg}
      alt="Background"
      class="inset-0 w-full h-full object-cover z-[-1] fixed"
    />
    <div
      class="relative w-full h-full max-w-xl p-8 bg-black bg-opacity-85 backdrop-blur-sm rounded-lg shadow-lg"
    >
      <h1 class="text-4xl font-bold text-white mb-4">Program</h1>
      <SignedIn>
        <FitnessPlan client:load />
      </SignedIn>
      <SignedOut>
        <div class="text-white text-center">
          <p class="mb-4">Please sign in to access your fitness plan.</p>
          <SignInButton
            mode="modal"
            as="button"
            class="bg-white text-black px-6 py-2 rounded-full hover:bg-gray-200 transition-colors"
          >
            Sign In
          </SignInButton>
        </div>
      </SignedOut>
    </div>
  </div>
</Layout>
