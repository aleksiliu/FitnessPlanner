---
import Layout from '../layouts/Layout.astro';
import FitnessPlanContainer from '../components/FitnessPlanContainer.tsx';
import { Image } from 'astro:assets';
import backgroundImg from '../assets/background.jpg';
import { SignInButton, SignedIn, SignedOut } from '@clerk/astro/components';
---

<Layout title="Welcome to Fitness Planner">
  <div
    class="flex flex-col items-center justify-center md:min-h-screen min-h-[-webkit-fill-available] p-4 sm:p-0 my-16 md:mt-0"
  >
    <Image
      src={backgroundImg}
      alt="Background"
      class="inset-0 w-full h-full object-cover z-[-1] fixed"
    />
    <h1 class="text-4xl font-bold text-white mb-6">Your fitness plan</h1>
    <div
      class="relative w-full h-full max-w-xl p-4 sm:p-8 bg-black bg-opacity-65 backdrop-blur-lg rounded-lg shadow-lg"
    >
      <SignedIn>
        <FitnessPlanContainer client:load />
      </SignedIn>
      <SignedOut>
        <div class="text-white text-center">
          <p class="mb-4">Please sign in to access your fitness plan.</p>
          <SignInButton
            mode="modal"
            as="button"
            class="w-full sm:w-auto bg-white text-black px-6 py-2 rounded-full hover:bg-gray-200 transition-colors"
          >
            Sign In
          </SignInButton>
        </div>
      </SignedOut>
    </div>
  </div>
</Layout>
